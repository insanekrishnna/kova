<% layout("/layouts/boilerplate") %>

<style>

#filters{
    display: flex;
    /* margin-top: 1rem; */
    flex-wrap: wrap;
}
.filter{
    /* display: flex; */
    text-align: center !important;
    margin-right: 1.3rem;
    margin-top: 1rem;
  opacity: 0.7;
}
.filter:hover{
    opacity: 1;
    cursor: pointer;
}

.filter p{
    margin-top: 0.1rem;
    font-size: 0.8rem;

}
</style>

<div id="filters" >
    <div class="filter ">
       <div><i class="fa-solid fa-fire"></i></div> 
        <p> Trending </p>

    </div>
    <div class="filter ">
       <div><i class="fa-solid fa-bed"></i></div> 
        <p> Rooms</p>

    </div>
    <div class="filter ">
       <div><i class="fa-solid fa-tree-city"></i></div> 
        <p>Iconic Cities</p>

    </div>
    <div class="filter ">
       <div><i class="fa-solid fa-mountain-sun"></i></div> 
        <p>Mountains</p>

    </div>
    <div class="filter ">
       <div><i class="fa-brands fa-fort-awesome-alt"></i></div> 
        <p>Castles</p>

    </div>
    <div class="filter ">
       <div><i class="fa-solid fa-water-ladder"></i></div> 
        <p>Pools</p>

    </div>
    <div class="filter ">
       <div><i class="fa-solid fa-campground"></i></div> 
        <p>Camping</p>

    </div>
    <div class="filter ">
       <div><i class="fa-solid fa-tractor"></i></div> 
        <p>Farms</p>

    </div>
    <div class="filter ">
       <div><i class="fa-solid fa-igloo"></i></div> 
        <p>Arctic</p>

    </div>

</div>

  <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 g-4 ">
    <% for (let listing of allListings) { %>

        <div class="col">
            <a href="/listings/<%= listing._id %>" class="text-decoration-none text-dark">

                <div class="fancy-card">
                    <div class="fancy-card-img">
                        <img src="<%= listing.image.url %>" alt="Listing Image">
                        
                        <span class="price-tag">
                            â‚¹<%= listing.price.toLocaleString("en-IN") %>/day
                        </span>

                        <div class="img-text">
                           
                        </div>
                    </div>

                    <div class="fancy-card-info ">
                        <div>
                            <b> <h6 class="fw-semibold mb-1 listing-title"><%= listing.title %></h6>
                            </b>
                            <p class="small-text card-des"><%= listing.description %></p>
                        </div>

              <div class="d-flex justify-content-between align-items-center mt-3">

    <!-- LEFT SIDE (icon + city + country) -->
    <div class="d-flex align-items-start gap-2 flex-grow-1">
        
        <!-- Icon -->
        <div class="rounded-circle d-flex align-items-center justify-content-center shadow"
             style="width: 36px; height: 36px; background:#efefef;">
            <i class="fa-solid fa-location-dot text-dark"></i>
        </div>

        <!-- CITY + COUNTRY stacked -->
        <div class="lh-sm" style="white-space: nowrap;">
            <div class="fw-semibold text-dark"><%= listing.location %></div>
            <div class="text-muted small"><%= listing.country %></div>
        </div>

    </div>

    <!-- RIGHT SIDE (button fixed width) -->
    <div class="nav-btn " style="flex-shrink: 0; background:#efefef;">
        <i class="bi bi-send-fill"></i>
    </div>

</div>
                    </div>
                </div>

            </a>
        </div>

    <% } %>
</div>


